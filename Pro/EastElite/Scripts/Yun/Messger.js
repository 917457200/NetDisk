function Query(a) { var b = ["MassgeName", "MassgeNote", "MassgeCreateTime", "状态", "操作"]; var e = "/Messger/GetManageList"; var f = $("#GroupName").val().trim(); var d = $("#UserName").val().trim(); var c = ""; if (f != null && f != "") { c = f } if (d != null && d != "") { c += "★" + d } GetData(e, b, a, c) } function SetOperate(a) { var b = '<td align="center">'; if (a.MassgeType == "1001") { b += "无" } else { if (a.MassgeState == false) { b += "<span class='btn btn-primary' style=\"color:#fff;\" onclick=\"Laryer('同意','Examine','" + a.GroupId + "','" + a.MassgeSendUserId + "','" + a.Id + "','True')\">同意</span>"; b += "<span class='btn btn-primary' style=\"color:#fff;\" onclick=\"Laryer('不同意','Examine','" + a.GroupId + "','" + a.MassgeSendUserId + "','" + a.Id + "','False')\">不同意</span>" } else { if (a.MassgeExamineState) { b += "已同意" } else { b += "已拒绝" } } } b += "</td>"; return b } function SetState(a) { var b = '<td align="center">'; if (a.MassgeState == false) { b += "未执行" } else { b += "已执行" } b += "</td>"; return b } function Examine(a, d, b, c) { DFBGFlie.Flie.FlieOperation.AjaxHtml("/UserGroup/GroupExamine", { GroupId: a, UserId: d, Id: b, State: c }, function (e) { if (e == "Suc") { parent.$("#popup_container").fadeOut(500); parent.$("#popup_overlay").fadeOut(500); parent.$("#popup_container").css("display", "none"); parent.$("#popup_overlay").css("display", "none"); parent.$("#popup_container").html(""); window.location.reload() } }, false) };