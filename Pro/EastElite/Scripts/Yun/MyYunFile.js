var DFBG = { FlieOA: {} }; var maxListnum = 0, maxGridnum = 0; var SumListNum = 0; var SumGridNum = 0; var OptionFile = (function (b) { var d = { length: 0 }; var d = $.extend(d, b), c = $("body"), a = '<div id="select"></div>'; return { actionLock: false, releaseTarget: false, keyCode: null, optionDown: function (i, h, f) { this.releaseTarget = false; this.getImgList(i); var g = f.pageX; var e = f.pageY; $("#select").css({ top: e + 1, left: g + 1 }) }, optionMoving: function (g, f, e) { if (this.actionLock) { this.optionDown(g, f, e) } }, getImgList: function (f) { if (f > 10) { f = parseInt(f / 10) } if (f > 100) { f = parseInt(f / 100) } if (!this.actionLock) { c.append(a); var e = "<em>" + f + "</em>"; $("#select").html(e) } this.actionLock = true }, closeOption: function (e) { var f = this; $(document).keydown(function (g) { f.keyCode = g.keyCode; $(document).on("mouseup", function (h) { if (!f.releaseTarget) { $(".moving-box").remove(); f.actionLock = false; $(document).unbind("mousemove"); f.releaseTarget = true; e(h, f.keyCode); $(document).unbind("keydown"); f.keyCode = null } }) }); $(document).trigger("keydown"); $(document).keyup(function (g) { $(document).unbind("keyup"); $(document).unbind("keydown"); f.keyCode = null }) } } }); DFBG.FlieOA.Flie = { MyFileLoad: function (d, a) { var c = DFBGFlie.Flie.FlieOperation; var b = DFBG.FlieOA.Flie; c.AjaxList("/MyFile/MyFileLoad", { FileId: d, SearchName: a }, function (n, h) { var j = n.model; if (h == "success") { var m = ""; var f = ""; if (j.length != 0) { $("#SumNum").html("已全部加载，共" + j.length + "个"); $("#SumUse").html("磁盘空间已使用：" + DFBGFlie.Flie.FlieOperation.GetFileSize(n.SumSize) + " 未使用：" + DFBGFlie.Flie.FlieOperation.GetFileSize(parseFloat(n.UserSize) - parseFloat(n.SumSize))); for (var k = 0; k < j.length; k++) { var l = j[k]; m += '<li id="add' + l.FileId + '" class="grid-view-item open-enable" style="display: block;">'; m += ' <div class="FileShow" title="' + l.FileName + '" >'; if (l.IsFolder == true) { m += " <div onclick=\"DFBG.FlieOA.Flie.FileClick('" + l.FileId + "','" + l.FileName + "')\">" } else { m += " <div onclick=\"DFBGFlie.Flie.FlieOperation.FileShowControl('" + l.FileExtName + "','" + l.FileId + "')\">" } if (l.IsFolder == true) { m += '<span  class="fileicon dir-large">' } else { switch (l.FileExtName) { case ".jpg": case ".png": case ".jpeg": case ".gif": case ".bmp": m += '<span  class="fileicon fileicon-large-pic fileicon-all">'; m += '<img class="thumb db-none" style="width:100px;height:100px;" data-url="/File/ImgSuoLue?FileId=' + l.FileId + '" src="">'; break; case ".docx": case ".doc": case ".dot": case ".docm": m += '<span  class="fileicon fileicon-large-doc">'; break; case ".xls": case ".xlsx": m += '<span  class="fileicon fileicon-large-xls">'; break; case ".txt": m += '<span  class="fileicon fileicon-large-txt">'; break; case ".rar": case ".7z": m += '<span  class="fileicon fileicon-large-rar">'; break; case ".zip": m += '<span  class="fileicon fileicon-large-zip">'; break; case ".pdf": m += '<span  class="fileicon fileicon-large-pdf">'; break; case ".flv": case ".mp4": case ".mkv": case ".rmvb": case ".avi": case ".swf": case ".wmv": case ".3gp": case ".mpeg": case ".mpg": case ".rm": case ".asf": case ".mov": case ".smi": m += '<span  class="fileicon fileicon-large-video">'; break; case ".psd": m += '<span  class="fileicon fileicon-large-psd">'; break; case ".mp3": case ".wma": case ".wav": m += '<span  class="fileicon fileicon-large-mp3">'; break; case ".ppt": case ".pptx": case ".pptm": m += '<span  class="fileicon fileicon-large-ppt">'; break; case ".xmind": m += '<span  class="fileicon fileicon-large-xmind">'; break; default: m += '<span  class="fileicon fileicon-all">'; break } } m += "</span>"; m += "</div>"; m += "<label onmousedown=\"ClickSelCss('add" + l.FileId + '\')" class="checkbox"></label>'; m += "</div>"; if (l.FileName.length > 6) { m += '<div class="file-name"><span title="' + l.FileName + '" class="filename">' + l.FileName.substring(0, 6) + "...</span></div> " } else { m += '<div class="file-name"><span title="' + l.FileName + '" href="javascript:void(0);" class="filename">' + l.FileName + "</span></div>" } m += "</li>"; f += '<div class="g-clearfix list-view-item open-enable">'; if (l.IsFolder == true) { f += '<input type="checkbox" onclick="YzCheAll()" class="checkbox1" name="cheName" value="' + l.FileId + '" />'; f += '<div class="fileicon  dir-small"></div>' } else { f += '<input type="checkbox" onclick="YzCheAll()" class="checkbox1" name="cheName" value="' + l.FileId + '" />'; switch (l.FileExtName) { case ".jpg": case ".png": case ".jpeg": case ".jpg": case ".gif": case ".bmp": f += '<div  class="fileicon fileicon-small-pic"></div>'; break; case ".docx": case ".doc": case ".dot": case ".docm": f += '<div  class="fileicon fileicon-small-doc"></div>'; break; case ".xls": case ".xlsx": f += '<div  class="fileicon fileicon-small-xls"></div>'; break; case ".txt": f += '<div  class="fileicon fileicon-small-txt"></div>'; break; case ".rar": case ".7z": f += '<div  class="fileicon fileicon-small-rar"></div>'; break; case ".zip": f += '<div  class="fileicon fileicon-small-zip"></div>'; break; case ".pdf": f += '<div  class="fileicon fileicon-small-pdf"></div>'; break; case ".flv": case ".mp4": case ".mkv": case ".rmvb": case ".avi": case ".swf": case ".wmv": case ".3gp": case ".mpeg": case ".mpg": case ".rm": case ".asf": case ".mov": case ".smi": f += '<div  class="fileicon fileicon-small-video"></div>'; break; break; case ".psd": f += '<div  class="fileicon fileicon-small-psd"></div>'; break; case ".mp3": case ".wma": case ".wav": f += '<div  class="fileicon fileicon-small-mp3"></div>'; break; case ".ppt": case ".pptx": case ".pptm": f += '<div  class="fileicon fileicon-small-ppt"></div>'; break; case ".xmind": f += '<div  class="fileicon fileicon-small-xmind"></div>'; break; default: f += '<div  class="fileicon fileicon-small"></div>'; break } } f += '<div style="width: 60%" class="file-name">'; f += '<div class="text">'; if (l.IsFolder == true) { f += "<a onclick=\"DFBG.FlieOA.Flie.FileClick('" + l.FileId + "','" + l.FileName + '\')"  class="filename" href="#" title="' + l.FileName + '">' + l.FileName + "</a></div>" } else { f += "<a onclick=\"DFBGFlie.Flie.FlieOperation.FileShowControl('" + l.FileExtName + "','" + l.FileId + '\')" class="filename" href="#" title="' + l.FileName + '">' + l.FileName + "</a></div>" } f += '<div class="operate">'; f += '<div style="position: absolute; top: 0px; padding-top: 0px; line-height: normal;">'; if (l.IsFolder != true) { f += '<a onclick="DFBGFlie.Flie.FlieOperation.ShareTransfer(' + l.FileId + ')" class="g-button" style=""><span class="g-button-right"><em title="分享" class="icon icon-share-blue"></em> </span></a>'; f += '<a href="/File/DownFile?FileId=' + l.FileId + '" class="g-button" style=""><span class="g-button-right"><em title="下载" class="icon icon-download-blue"></em></span></a>' } else { f += '<a onclick="DFBGFlie.Flie.FlieOperation.ShareTransfer(' + l.FileId + ')" class="g-button" style=""><span class="g-button-right"><em title="分享" class="icon icon-share-blue"></em> </span></a>' } f += '<span class="g-dropdown-button Baiparent">'; f += '<a onclick="MoreMethod(' + l.FileId + ')" href="#" class="g-button"><span class="g-button-right"></span></a>'; f += '<span class="menu menu' + l.FileId + '" onmouseout="" style="width: 64px;display:none;">'; f += '<a href="#" onclick="ReNameMethod(' + l.FileId + ",'menu" + l.FileId + "','" + l.FileName + '\')" class="g-button-menu rename">重命名</a>'; f += '<a href="#" onclick="DFBGFlie.Flie.FlieOperation.Transfer(' + l.FileId + ',\'parent\')" class="g-button-menu delete">删除</a>'; f += "</span></span>"; f += "    </div>"; f += "</div>"; f += "</div>"; f += '<div style="width: 16%" class="file-size">' + DFBGFlie.Flie.FlieOperation.GetFileSize(l.FileSizeKb) + "</div>"; var g = new Date(parseInt(l.FileCreateTime.replace("/Date(", "").replace(")/", ""), 10)); f += '<div style="width: 23%" class="ctime">' + g.Format("yyyy-MM-dd hh:mm") + "</div>"; f += "</div>"; f += "</div>" } } else { f += '<div class="aGMvFtb">'; f += '<div class="hqvyGW05 wegnv3JM">'; f += '<p class="ggEQwFb">'; f += " 您还没上传过文件哦，点击"; f += "<span class=\"cjujvy90 upload-wrapper\" onclick='showLayer();'>"; f += " 上传"; f += " </span>按钮～"; f += "</p>"; f += "</div>"; f += "</div>"; m = f } $("#FileShowList").html(f); $("#FileShow").html(m); $(".module-list-view .list-view-item").hover(function () { $(this).children(".file-name").children(".operate").toggle() }); if ($(".list-view-item").length > 3) { $(".list-view-item:last .operate .menu").css({ "left": "-40px", "top": "-50px" }) } var e = new OptionFile(); $(".module-grid-view .grid-view li").on("mousedown", function (p) { p.preventDefault(); p.stopPropagation(); var o = $(".item-active").length; var i = setTimeout(function () { e.optionDown(o, 1, p); $(document).mousemove(function (q) { e.optionMoving(o, 1, q); e.closeOption(function (x, s) { var w = x.target.className; $("#select").remove(); if (w == "filename" || w == "fileicon dir-large" || w == "grid-view-item open-enable") { var v = ""; var r = ""; var u = getCookie("ShowType"); if (u == "grid") { var y = $(".item-active"); for (var t = 0; t < y.length; t++) { v += y[t].id + "," } } switch (w) { case "filename": r = $(x.target).parent().parent().attr("id").replace("add", ""); break; case "fileicon dir-large": r = $(x.target).parent().parent().parent().attr("id").replace("add", ""); break; case "grid-view-item open-enable": r = $(x.target).attr("id").replace("add", ""); break; default: break } if (r != "") { b.TuoMoVe(v, r) } } }) }) }, 200); $(document).mouseup(function () { clearTimeout(i) }) }); c.SetContainerHeight(); $("img").load(function () { $(this).hide(); $(this).stop().fadeIn("5000") }); $(".grid-view-item").scrollLoading() } }) }, MyGridFileShowLoad: function (d, b, c, a) { var f = DFBGFlie.Flie.FlieOperation; var e = DFBG.FlieOA.Flie; f.AjaxList("/MyFile/MyFileShowLoad", { Type: d, SearchName: b, pageSize: c, p: a }, function (k, g) { var l = k.model; maxGridnum = parseFloat(k.SumCount) / 49; if (g == "success") { var m = ""; if (l.length != 0) { e.GetSumNum(k.SumCount, l.length, c, a, "grid"); for (var j = 0; j < l.length; j++) { var h = l[j]; m += '<li id="add' + h.FileId + '" href="javascript:;" class="grid-view-item open-enable" style="display: block;">'; m += ' <div class="FileShow"  title="' + h.FileName + '">'; if (h.IsFolder == true) { m += " <div onmousedown=\"DFBG.FlieOA.Flie.FileClick('" + h.FileId + "','" + h.FileName + "')\">" } else { m += " <div onmousedown=\"DFBGFlie.Flie.FlieOperation.FileShowControl('" + h.FileExtName + "','" + h.FileId + "')\">" } if (h.IsFolder == true) { m += '<span  class="fileicon dir-large">' } else { switch (h.FileExtName) { case ".jpg": case ".png": case ".jpeg": case ".gif": case ".bmp": m += '<span  class="fileicon fileicon-large-pic fileicon-all">'; m += '<img class="thumb db-none" style="width:100px;height:100px;" data-url="/File/ImgSuoLue?FileId=' + h.FileId + '" src="">'; break; case ".docx": case ".doc": case ".dot": case ".docm": m += '<span  class="fileicon fileicon-large-doc">'; break; case ".xls": case ".xlsx": m += '<span  class="fileicon fileicon-large-xls">'; break; case ".txt": m += '<span  class="fileicon fileicon-large-txt">'; break; case ".rar": case ".7z": m += '<span  class="fileicon fileicon-large-rar">'; break; case ".zip": m += '<span  class="fileicon fileicon-large-zip">'; break; case ".pdf": m += '<span  class="fileicon fileicon-large-pdf">'; break; case ".flv": case ".mp4": case ".mkv": case ".rmvb": case ".avi": case ".swf": case ".wmv": case ".3gp": case ".mpeg": case ".mpg": case ".rm": case ".asf": case ".mov": case ".smi": m += '<span  class="fileicon fileicon-large-video">'; break; case ".exe": m += '<span  class="fileicon fileicon-large-exe">'; break; case ".psd": m += '<span  class="fileicon fileicon-large-psd">'; break; case ".mp3": case ".wma": case ".wav": m += '<span  class="fileicon fileicon-large-mp3">'; break; case ".ppt": case ".pptx": case ".pptm": m += '<span  class="fileicon fileicon-large-ppt">'; break; case ".xmind": m += '<span  class="fileicon fileicon-large-xmind">'; break; default: m += '<span  class="fileicon fileicon-all">'; break } } m += "</span>"; m += "</div>"; m += "<label onmousedown=\"ClickSelCss('add" + h.FileId + '\')" class="checkbox"></label>'; m += "</div>"; if (h.FileName.length > 6) { m += '<div class="file-name"><span title="' + h.FileName + '" class="filename">' + h.FileName.substring(0, 6) + "...</span></div> " } else { m += '<div class="file-name"><span title="' + h.FileName + '" href="javascript:void(0);" class="filename">' + h.FileName + "</span></div>" } m += "</li>" } $("#FileShow").append(m); $(".module-grid-view .grid-view li").on("mousedown", function (i) { i.preventDefault(); i.stopPropagation() }); f.SetContainerHeight(); $("img").load(function () { $(this).hide(); $(this).stop().fadeIn("5000") }); $(".grid-view-item").scrollLoading() } else { if (k.SumCount == "0") { e.GetCont0() } } } }) }, MyListFileShowLoad: function (d, b, c, a) { var f = DFBGFlie.Flie.FlieOperation; var e = DFBG.FlieOA.Flie; f.AjaxList("/MyFile/MyFileShowLoad", { Type: d, SearchName: b, pageSize: c, p: a }, function (l, g) { var m = l.model; maxListnum = parseFloat(l.SumCount) / 15; if (g == "success") { var n = ""; if (m.length != 0) { e.GetSumNum(l.SumCount, m.length, c, a, "List"); for (var k = 0; k < m.length; k++) { var j = m[k]; n += '<div class="g-clearfix list-view-item open-enable">'; if (j.IsFolder == true) { n += '<input type="checkbox" onclick="YzCheAll()" class="checkbox1" name="cheName" value="' + j.FileId + '" />'; n += '<div class="fileicon  dir-small"></div>' } else { n += '<input type="checkbox" onclick="YzCheAll()" class="checkbox1" name="cheName" value="' + j.FileId + '" />'; switch (j.FileExtName) { case ".jpg": case ".png": case ".jpeg": case ".gif": case ".bmp": n += '<div  class="fileicon fileicon-small-pic"></div>'; break; case ".docx": case ".doc": case ".dot": case ".docm": n += '<div  class="fileicon fileicon-small-doc"></div>'; break; case ".xls": case ".xlsx": n += '<div  class="fileicon fileicon-small-xls"></div>'; break; case ".txt": n += '<div  class="fileicon fileicon-small-txt"></div>'; break; case ".rar": case ".7z": n += '<div  class="fileicon fileicon-small-rar"></div>'; break; case ".zip": n += '<div  class="fileicon fileicon-small-zip"></div>'; break; case ".pdf": n += '<div  class="fileicon fileicon-small-pdf"></div>'; break; case ".flv": case ".mp4": case ".mkv": case ".rmvb": case ".avi": case ".swf": case ".wmv": case ".3gp": case ".mpeg": case ".mpg": case ".rm": case ".asf": case ".mov": case ".smi": n += '<div  class="fileicon fileicon-small-video"></div>'; break; case ".exe": n += '<div  class="fileicon fileicon-small-exe"></div>'; break; case ".psd": n += '<div  class="fileicon fileicon-small-psd"></div>'; break; case ".mp3": case ".wma": case ".wav": n += '<div  class="fileicon fileicon-small-mp3"></div>'; break; case ".ppt": case ".pptx": case ".pptm": n += '<div  class="fileicon fileicon-small-ppt"></div>'; break; case ".xmind": n += '<div  class="fileicon fileicon-small-xmind"></div>'; break; default: n += '<div  class="fileicon fileicon-small"></div>'; break } } n += '<div style="width: 60%" class="file-name">'; n += '<div class="text">'; if (j.IsFolder == true) { n += "<a onclick=\"DFBG.FlieOA.Flie.FileClick('" + j.FileId + "','" + j.FileName + '\')"  class="filename" href="#" title="' + j.FileName + '">' + j.FileName + "</a></div>" } else { n += "<a onclick=\"DFBGFlie.Flie.FlieOperation.FileShowControl('" + j.FileExtName + "','" + j.FileId + '\')" class="filename" href="#" title="' + j.FileName + '">' + j.FileName + "</a></div>" } n += '<div class="operate">'; n += '<div style="position: absolute; top: 0px; padding-top: 0px; line-height: normal;">'; if (j.IsFolder != true) { n += '<a onclick="DFBGFlie.Flie.FlieOperation.ShareTransfer(' + j.FileId + ')" class="g-button" style=""><span class="g-button-right"><em title="分享" class="icon icon-share-blue"></em> </span></a>'; n += '<a href="/File/DownFile?FileId=' + j.FileId + '" class="g-button" style=""><span class="g-button-right"><em title="下载" class="icon icon-download-blue"></em></span></a>' } else { n += '<a onclick="DFBGFlie.Flie.FlieOperation.ShareTransfer(' + j.FileId + ')" class="g-button" style=""><span class="g-button-right"><em title="分享" class="icon icon-share-blue"></em> </span></a>' } n += '<span class="g-dropdown-button Baiparent">'; n += '<a onclick="MoreMethod(' + j.FileId + ')" href="#" class="g-button"><span class="g-button-right"></span></a>'; n += '<span class="menu menu' + j.FileId + '" style="width: 64px;display:none;">'; n += '<a href="#" onclick="ReNameMethod(' + j.FileId + ",'menu" + j.FileId + "','" + j.FileName + '\')" class="g-button-menu rename">重命名</a>'; n += '<a href="#" onclick="DFBGFlie.Flie.FlieOperation.Transfer(' + j.FileId + ',\'parent\')" class="g-button-menu delete">删除</a>'; n += "</span></span>"; n += "    </div>"; n += "</div>"; n += "</div>"; n += '<div style="width: 16%" class="file-size">' + DFBGFlie.Flie.FlieOperation.GetFileSize(j.FileSizeKb) + "</div>"; var h = new Date(parseInt(j.FileCreateTime.replace("/Date(", "").replace(")/", ""), 10)); n += '<div style="width: 23%" class="ctime">' + h.Format("yyyy-MM-dd hh:mm") + "</div>"; n += "</div>"; n += "</div>" } $("#FileShowList").append(n); f.SetContainerHeight(); $(".module-list-view .list-view-item").hover(function () { $(this).children(".file-name").children(".operate").toggle() }); if ($(".list-view-item").length > 3) { $(".list-view-item:last .operate .menu").css({ "left": "-40px", "top": "-50px" }) } } else { if (l.SumCount == "0") { e.GetCont0() } } } }) }, GetSumNum: function (e, f, c, b, a) { maxnum = parseInt(e / c); var d = getCookie("ShowType"); maxnum = parseFloat(e % c) > 0 ? maxnum + 1 : maxnum; if (a == "List") { if (maxnum == b) { $("#SumListNum").html("已全部加载，共" + e + "个") } else { SumListNum += f; $("#SumListNum").html("已部分加载" + SumListNum + "个资源！") } } else { if (maxnum == b) { $("#SumGridNum").html("已全部加载，共" + e + "个") } else { SumGridNum += f; $("#SumGridNum").html("已部分加载" + SumGridNum + "个资源！") } } if (d == "List") { $("#SumListNum").show(); $("#SumGridNum").hide() } else { $("#SumGridNum").show(); $("#SumListNum").hide() } }, GetCont0: function () { var a = '<div class="aGMvFtb">'; a += '<div class="hqvyGW05 wegnv3JM">'; a += '<p class="ggEQwFb">'; a += " 您还没上传过文件哦"; a += "</p>"; a += "</div>"; a += "</div>"; $("#FileShowList").html(a); $("#FileShow").html(a) }, FileClick: function (a) { window.location.href = "/MyFile/MyFile?FileId=" + a }, InFileOnlode: function (a) { DFBGFlie.Flie.FlieOperation.AjaxHtml("/File/FileALLNavigation", { parentFileId: a }, function (b) { if (b != "") { $("#TitleIds").append(b) } }, true) }, isSelect: function () { var d = false; var b = 0; var c = getCookie("ShowType"); if (c == "List") { var e = $("input[type=checkbox][name=cheName]"); for (var a = 0; a < e.length; a++) { if (e[a].checked) { d = true; b++ } } } else { var f = $(".item-active"); if (f.length > 0) { d = true } b = f.length } if (d) { $(".FlieOperation").css("display", "inline-block") } else { $(".FlieOperation").hide() } if (b == 1) { $(".Renamed").show() } else { $(".Renamed").hide() } }, TuoMoVe: function (d, a) { var b = "../File/FileMove"; var c = { FileIdList: d, WhereId: a, MoveType: 2, Share: "" }; EDUCAjax(c, function () { $.closezhezhao("popup_container", "popup_overlay"); if ($(".module-tip").length == 0) { $("body").append('<div class="module-tip" style="top: 190px; left: 50%; margin-left: -77.5px;"></div>') } $(".module-tip").html('<div class="tip-inner"><i class="tip-icon tip-icon-loading"></i><span class="tip-msg">正在移动文件，请稍候…</span></div></span></div>'); $(".module-tip").css("display", "block") }, function (e) { if (e == "suc") { if ($(".module-tip").length == 0) { $("body").append('<div class="module-tip" style="top: 190px; left: 50%; margin-left: -48.5px"></div>') } else { $(".module-tip").css("margin-left", "-48.5px") } $(".module-tip").html('<div class="tip-inner"><i class="tip-icon tip-icon-success"></i><span class="tip-msg">文件移动成功</span></div>'); $(".module-tip").css("display", "block"); window.location.reload(); setTimeout('$(".module-tip").hide()', 5000) } else { if ($(".module-tip").length == 0) { $("body").append('<div class="module-tip" style="top: 190px; left: 50%; margin-left: -48.5px"></div>') } else { $(".module-tip").css("margin-left", "-48.5px") } $(".module-tip").html('<div class="tip-inner"><i class="tip-icon tip-icon-success"></i><span class="tip-msg">文件移动失败</span></div>'); $(".module-tip").css("display", "block"); window.location.reload(); setTimeout('$(".module-tip").hide()', 5000) } }, b, "html", false, "", false) }, showLayer: function () { var c = $("#HidFileId").val(); var a = $("#Share").val(); if (a != undefined) { a = a } else { a = "" } var b = $("#GroupOrAgencyId").val(); if (b == undefined) { b == "" } parent.showLayer(c, a, b) } }; parent.window.onresize = function () { var a = getCookie("ShowType"); if (a == "List") { $(".list-view-container").css({ "height": $(window).height() - 124 }) } else { $(".list-view-container").css({ "height": $(window).height() - 81 }) } }; function AllFileMethod() { window.location.href = "/MyFile/MyFile?FileId=" } function SearchFileMethod() { setCookie("SearchInfo", $("#SearchId").val(), "d1"); window.location.reload() } function SelShowType(a) { setCookie("ShowType", a, "d1"); if (a == "List") { $(".list-grid-switch").removeClass("grid-switched-on"); $(".list-grid-switch").addClass("list-switched-on"); $("#TypeShow").val("List"); $("#FileShow").hide(); $(".FileShowList").css({ "display": "block", "height": "100%" }); $("#FileShow").css({ "display": "none", "height": "auto" }); $("#FileShow").parent().css({ "height": "auto" }); $("#FileShowList").parent().css({ "height": "100%" }); $(".list-view-container").css({ "height": $(window).height() - 124 }); $("#SumListNum").show(); $("#SumGridNum").hide() } else { $(".list-grid-switch").removeClass("list-switched-on"); $(".list-grid-switch").addClass("grid-switched-on"); $("#TypeShow").val("Tu"); $("#FileShow").show(); $(".FileShowList").css({ "display": "none", "height": "100%" }); $("#FileShowList").parent().css({ "height": "auto" }); $("#FileShow").css({ "display": "block", "height": "auto" }); $("#FileShow").parent().css({ "height": "100%" }); $(".list-view-container").css({ "height": $(window).height() - 81 }); $("#SumGridNum").show(); $("#SumListNum").hide() } $("img").load(function () { $(this).hide(); $(this).stop().fadeIn("5000") }); $(".grid-view-item").scrollLoading(); DFBG.FlieOA.Flie.isSelect() } function ClickSelCss(a) { $("#" + a).toggleClass("item-active"); DFBG.FlieOA.Flie.isSelect() } function MoreMethod(a) { $(".menu" + a).show() } function AllCheck() { var b = document.getElementById("checkAll"); var c = document.getElementsByName("cheName"); if (b.checked == true) { for (var a = 0; a < c.length; a++) { c[a].checked = "checked" } } else { for (var a = 0; a < c.length; a++) { c[a].checked = false } } DFBG.FlieOA.Flie.isSelect() } function YzCheAll() { var c = $("input[type=checkbox][name=cheName]"); var a = 0; for (var b = 0; b < c.length; b++) { if (c[b].checked) { a++ } } if (c.length != 0) { if ((a == c.length)) { $("#checkAll").attr("checked", "true") } else { $("#checkAll").removeAttr("checked") } DFBG.FlieOA.Flie.isSelect() } else { $("#checkAll").removeAttr("checked") } };