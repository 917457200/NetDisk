(function (a) { a.fn.areaSelect = function (c) { var b = {}; b = a.extend(b, c); var d = a(this); d.on("mousedown", function (k) { d.find("li").removeClass("item-active"); var g = k.pageY; var i = k.pageX; var f, h; var j = a('<div id="select-box"></div>'); a("body").append(j); j.css({ "position": "absolute", "top": g + "px", "left": i + "px", "background": "#8bbff9", "transition": "all 0s", "width": 0, "height": 0, "z-index": 10, "opacity": "0.5", "filter": "alpha(opacity = 50)", "border": " 1px solid #1362b4" }); a(document).on("mousemove", function (n) { n.preventDefault(); f = n.pageY; h = n.pageX; if (n.pageY - g > 0 && n.pageX - i > 0) { var l = n.pageY - g; var m = n.pageX - i; j.css({ "width": m + "px", "height": l + "px" }) } else { if (n.pageY - g < 0 && n.pageX - i < 0) { var l = -(n.pageY - g); var m = -(n.pageX - i); j.css({ "width": m + "px", "height": l + "px", "top": n.pageY + "px", "left": n.pageX + "px" }) } else { if (n.pageY - g > 0 && n.pageX - i < 0) { var l = (n.pageY - g); var m = -(n.pageX - i); j.css({ "width": m + "px", "height": l + "px", "top": g + "px", "left": n.pageX + "px" }) } else { if (n.pageY - g < 0 && n.pageX - i > 0) { var l = -(n.pageY - g); var m = (n.pageX - i); j.css({ "width": m + "px", "height": l + "px", "top": n.pageY + "px", "left": i + "px" }) } } } } d.find("li").each(function () { if ((i < a(this).offset().left + a(this).width() && a(this).offset().left < h && a(this).offset().top < f && a(this).offset().top + a(this).height() > g && (n.pageY - g > 0 && n.pageX - i > 0)) || (h < a(this).offset().left + a(this).width() && a(this).offset().left < i && a(this).offset().top < g && a(this).offset().top + a(this).height() > f && (n.pageY - g < 0 && n.pageX - i < 0)) || (h < a(this).offset().left + a(this).width() && a(this).offset().left < i && a(this).offset().top < f && a(this).offset().top + a(this).height() > g && (n.pageY - g > 0 && n.pageX - i < 0)) || (i < a(this).offset().left + a(this).width() && a(this).offset().left < h && a(this).offset().top < g && a(this).offset().top + a(this).height() > f && (n.pageY - g < 0 && n.pageX - i > 0))) { a(this).addClass("item-active"); return } else { a(this).removeClass("item-active") } }) }); a(document).on("mouseup", function () { a("#select-box").remove(); a(document).unbind("mousemove"); DFBG.FlieOA.Flie.isSelect() }) }) } })(jQuery);